# Autocompletion for mpkg
_mpkg () {
    local cur
    COMPREPLY=()
	cur=${COMP_WORDS[COMP_CWORD]}

	mpkgdata=$(mpkg-quicklist $2 2> /dev/null)
        COMPREPLY=($(compgen -W "${mpkgdata}"))
	_filedir '@(txz|tgz)'
}

complete -F _mpkg -o filenames mpkg-filesearch mpkg-gui-installer \
                  mpkg-install \
                  mpkg-search mpkg-searchdescription \
                  mpkg-whodepend mpkgeditor mpkg-show \

_mpkg_r () {
        COMPREPLY=($(mpkg-quicklist -i $2 2> /dev/null))
}


complete -F _mpkg_r mpkg-purge mpkg-reinstall mpkg-remove mpkg-update mpkg-upgrade mpkg-check

